<!DOCTYPE html>
<html>

<head>
  <title>Darkmode test</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" integrity="sha512-GQGU0fMMi238uA+a/bdWJfpUGKUkBdgfFdgBm72SUQ6BeyWjoY/ton0tEjH+OSH9iP4Dfh+7HM0I9f5eR0L/4w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="css/pdis-design-system.css" />
  <style>
    .color {
      width: 100px;
      height: 100px;
      color: white;
    }
  </style>
</head>

<body>
  <script>
    function calc(x1, x2, y1, y2, val) {

      a = (y1 - y2) / (x1 - x2);
      b = y1 - (a * x1);
      result = parseInt(a * val + b);
      if (result > 255)
        result = 255;
      if (result < 0)
        result = 0;
      console.log(x1,x2,y1,y2,val,result);
      return result;
    }

    function getColor(a1, a2, b1, b2, c1) {

      let r = calc(a1[0], a2[0], b1[0], b2[0], c1[0]);
      let g = calc(a1[1], a2[1], b1[1], b2[1], c1[1]);
      let b = calc(a1[2], a2[2], b1[2], b2[2], c1[2]);
      console.log(r, g, b);
      return "#" + r.toString(16).padStart(2, '0') + g.toString(16).padStart(2, '0') + b.toString(16).padStart(2, '0');
    }
    var bs = {
      g: [25, 135, 84],
      r: [220, 53, 69],
    };
    var pdis = {
      g: [26, 124, 34],
      r: [206, 30, 30],
    };

    function renew() {
      green = document.getElementById("exampleColorInput").value;
      c = [parseInt(green.slice(1, 3), 16), parseInt(green.slice(3, 5), 16), parseInt(green.slice(5, 7), 16)];
      document.getElementById("success").style.backgroundColor = green;
      document.getElementById("success").innerHTML = green;

      danger = getColor(bs.g, pdis.g, bs.r, pdis.r, c);
      document.getElementById("danger").style.backgroundColor = danger;
      document.getElementById("danger").innerHTML = danger;

    };
  </script>

  <input type="color" class="form-control form-control-color" onchange="renew()" id="exampleColorInput" value="#1A7C22" title="Choose your color">
  <div id="success" class="color"></div>
  <div id="danger" class="color"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.min.js" integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>

</html>